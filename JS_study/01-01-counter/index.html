<!DOCTYPE html>
<html lang="kr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <link rel="stylesheet" href="./index.css" class="rel" />
</head>
<script>
  const dateFormMaker = function () {
    const inputYear = document.querySelector("#target-year-input").value;
    const inputMonth = document.querySelector("#target-month-input").value;
    const inputDate = document.querySelector("#target-date-input").value;

    const dateFormat = inputYear + "-" + inputMonth + "-" + inputDate;

    counterMake(dateFormat);
  };

  const counterMake = (dateFormat) => {
    const nowDate = new Date();
    const targetDate = new Date(dateFormat).setHours(0, 0, 0, 0);
    const remaining = (targetDate - nowDate) / 1000;

    // 만약, remaining이 0 이라면, 타이머가 종료 되었습니다. 출력
    // 수도코드
    if (remaining <= 0) {
      console.log("타이머가 종료 되었습니다.");
    } else if (isNaN(remaining)) {
      // 만약 , 잘못된 날짜가 들어왔다면, 유효한 시간대가 아닙니다. 출력
      console.log("유효한 시간대가 아닙니다.")
    }

    const remainingDate = Math.floor(remaining / 3600 / 24);
    const remainingHours = Math.floor(remaining / 3600) % 24;
    const remainingMin = Math.floor(remaining / 60) % 60;
    const remainingSec = Math.floor(remaining) % 60;
    console.log(remainingDate, remainingHours, remainingMin, remainingSec);
  };
</script>

<body>
  <h1>D-Day</h1>
  <div id="d-day-container">
    <div class="d-day-child-container">
      <span id="days">0</span>
      <span>일</span>
    </div>
    <div class="d-day-child-container">
      <span id="hours">0</span>
      <span>시간</span>
    </div>
    <div class="d-day-child-container">
      <span id="min">0</span>
      <span>분</span>
    </div>
    <div class="d-day-child-container">
      <span id="sec">0</span>
      <span>초</span>
    </div>
  </div>
  <div id="target-selector">
    <input id="target-year-input" class="target-input" size="5" />-
    <input type="text" id="target-month-input" class="target-input" size="5" />-
    <input type="text" id="target-date-input" class="target-input" size="5" />
  </div>
  <button onclick="dateFormMaker()" id="start-btn">카운트다운 시작</button>
</body>

</html>